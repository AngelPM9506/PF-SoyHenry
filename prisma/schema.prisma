// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

//cliente
generator client {
  provider = "prisma-client-js"
}

//conexi√≥n
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// modelos
model User {
  id           String         @id @default(cuid())
  name         String         @db.VarChar()
  mail         String         @unique
  description  String         @db.Text
  isAdmin      Boolean        @default(false)
  avatar       String?        @db.VarChar()
  keyWords     String?        @db.VarChar()
  urlTikTok    String?        @db.VarChar()
  urlFaceBook  String?        @db.VarChar()
  urlInstagram String?        @db.VarChar()
  trips        Trip[]
  useOnTrip    UsersOnTrips[]
  active       Boolean        @default(true)
}

model Trip {
  id          String         @id @default(cuid())
  name        String         @unique @db.VarChar()
  initDate    DateTime       @db.Date
  endDate     DateTime       @db.Date
  planner     User           @relation(fields: [plannerId], references: [id])
  plannerId   String
  tripOnUser  UsersOnTrips[]
  description String         @db.Text
  image       String?        @db.VarChar()
  price       Float
  active      Boolean        @default(true)
}

model UsersOnTrips {
  user   User   @relation(fields: [userid], references: [id])
  userid String
  trip   Trip   @relation(fields: [tripId], references: [id])
  tripId String

  @@id([userid, tripId])
}

model Activity {
  id           String   @id @default(cuid())
  name         String   @unique @db.VarChar()
  availability String[]
  image        String?  @db.VarChar()
  description  String   @db.Text
  price        Float
}

model city {
  id          String @id @default(cuid())
  name        String @unique @db.VarChar()
  country     String @db.VarChar()
  population  Int
  latitude Float
  longitude Float
}
